# Magic8-Companion Configuration
# Copy this to .env and modify as needed

# Output file path for recommendations
M8C_OUTPUT_FILE_PATH=data/recommendations.json

# Supported trading symbols
M8C_SUPPORTED_SYMBOLS=["SPX", "SPY", "QQQ", "RUT"]

# Checkpoint times (Eastern Time, 24-hour format)
M8C_CHECKPOINT_TIMES=["10:30", "11:00", "12:30", "14:45"]

# Scoring thresholds
M8C_MIN_RECOMMENDATION_SCORE=70
M8C_MIN_SCORE_GAP=15

# Market analysis settings
M8C_USE_MOCK_DATA=true  # Set to false for live data
M8C_MOCK_IV_PERCENTILE=65.0
M8C_MOCK_EXPECTED_RANGE_PCT=0.008

# Live data settings (when USE_MOCK_DATA=false)
M8C_MARKET_DATA_PROVIDER=yahoo  # yahoo, ib, or polygon

# Interactive Brokers settings (if using IB provider)
M8C_IB_HOST=127.0.0.1
M8C_IB_PORT=7497
M8C_IB_CLIENT_ID=2

# Polygon API settings (if using Polygon provider)
M8C_POLYGON_API_KEY=

# Time zone
M8C_TIMEZONE=America/New_York

# === ENHANCED INDICATORS CONFIGURATION ===

# Enable enhanced indicators
ENABLE_GREEKS=true              # Enable Greeks calculations
ENABLE_ADVANCED_GEX=true        # Enable Gamma Exposure analysis
ENABLE_VOLUME_ANALYSIS=true     # Enable Volume/OI analysis

# === INTERACTIVE BROKERS DATA SOURCE ===

# Use IBKR as primary data source (overrides M8C_MARKET_DATA_PROVIDER)
USE_IBKR_DATA=false             # Set to true to use IBKR instead of Yahoo

# IBKR Connection Settings
IBKR_HOST=127.0.0.1            # TWS/IB Gateway host
IBKR_PORT=7497                 # 7497 for paper trading, 7496 for live
IBKR_CLIENT_ID=1               # Unique client ID for this connection

# IBKR Fallback Settings
IBKR_FALLBACK_TO_YAHOO=true    # Fall back to Yahoo if IBKR fails

# IBKR Notes:
# 1. Ensure TWS or IB Gateway is running before starting
# 2. Enable API connections in TWS/Gateway settings
# 3. Check firewall settings allow connection to IBKR_PORT
# 4. For live trading, use port 7496 and ensure proper permissions
# 5. IBKR provides real-time data with accurate Greeks from exchange
